<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Ouvidoria - IPRESAL</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- CSS principal -->
  <link rel="stylesheet" href="style.css">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  <!-- EmailJS SDK -->
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@2/dist/email.min.js"></script>
  <script>
    (function(){
      emailjs.init("service_oemwevq"); /* substitua pelo seu User ID do EmailJS */
    })();
  </script>
  <style>
    /* Estilos rápidos para o layout da ouvidoria */
    .ouvidoria-container { display: flex; flex-wrap: wrap; gap: 2rem; padding: 2rem 1rem; }
    .ouvidoria-text, .ouvidoria-form { flex: 1 1 300px; }
    .ouvidoria-form form { display: grid; gap: 1rem; }
    .ouvidoria-form input,
    .ouvidoria-form select,
    .ouvidoria-form textarea { width: 100%; padding: .75rem; font-size: 1rem; border: 1px solid #ccc; border-radius: 4px; }
    .ouvidoria-form button { padding: .75rem; font-size: 1rem; background: #28a745; color: #fff; border: none; border-radius: 4px; cursor: pointer; }
    .ouvidoria-form fieldset { border: none; margin: 0; padding: 0; }
    .ouvidoria-form legend { font-weight: bold; margin-bottom: .5rem; }
  </style>
</head>
<body>
  <!-- Topo -->
  <div class="top-bar">
    <div class="container">
      <span>Telefone: (81) 3654-1156 | Horário: 08:00h às 13:00h</span>
    </div>
  </div>

  <!-- Cabeçalho -->
  <header class="header-main">
    <div class="container header-flex">
      <div class="logo-area" style="text-align: center; width: 100%;">
        <img src="IPRESAL.jpg" alt="Logo do IPRESAL">
      </div>
    </div>
  </header>

  <!-- Menu -->
  <nav class="menu-bar">
    <div class="container nav-container">
      <ul class="menu-list">
        <li><a href="index.html">Página Inicial</a></li>
        <li class="menu-dropdown">
          <a href="#">Institucional <i class="fas fa-chevron-down"></i></a>
          <ul class="submenu">
            <li><a href="conheca-cidade.html">Conheça a Cidade</a></li>
            <li><a href="conheca-rpps.html">Conheça o RPPS</a></li>
            <li><a href="noticias.html">Notícias</a></li>
          </ul>
        </li>
        <li class="menu-dropdown">
          <a href="#">Publicações Oficiais <i class="fas fa-chevron-down"></i></a>
          <ul class="submenu">
            <li><a href="avaliacao-aturial.html">Avaliação Atuarial</a></li>
            <li><a href="portarias.html">Portarias</a></li>
            <li><a href="contratos.html">Contratos</a></li>
            <li><a href="atas-de-reunioes.html">Atas de Reuniões</a></li>
            <li><a href="investimentos.html">Investimentos</a></li>
            <li><a href="legislacao.html">Legislação</a></li>
          </ul>
        </li>
        <li><a href="transparencia.html">Transparência</a></li>
        <li><a href="ouvidoria.html">Ouvidoria</a></li>
      </ul>
      <div class="search-bar">
        <input type="text" placeholder="Buscar..." />
        <button><i class="fas fa-search"></i></button>
      </div>
    </div>
  </nav>

  <!-- Aviso de desenvolvimento -->
  <div class="site-aviso" style="background:#fffae6;padding:1rem;text-align:center;border-bottom:1px solid #ffd700;">
    ⚠️ Atenção: este site ainda não está finalizado e algumas funcionalidades podem não estar disponíveis.
  </div>

  <!-- Conteúdo da Ouvidoria -->
  <main class="container">
    <h1>Ouvidoria</h1>
    <div class="ouvidoria-container">
      <!-- Descrição dos tipos -->
      <div class="ouvidoria-text">
        <h2>Tipos de Manifestação</h2>
        <p><strong>Elogio:</strong> demonstração de reconhecimento ou satisfação com nossos serviços.</p>
        <p><strong>Denúncia:</strong> relato de irregularidades na administração ou no exercício de funções.</p>
        <p><strong>Reclamação:</strong> crítica a procedimentos ou condutas consideradas ineficientes.</p>
        <p><strong>Sugestão:</strong> propostas de melhorias para otimizar nossos serviços.</p>
      </div>

      <!-- Formulário -->
      <div class="ouvidoria-form">
        <h2>Formulário de Manifestação</h2>
        <form id="ouvidoria-form">
          <fieldset>
            <legend>Manifestar de forma:</legend>
            <label><input type="radio" name="modo" value="normal" checked> Normal</label>
            <label><input type="radio" name="modo" value="anonima"> Anônima</label>
          </fieldset>

          <div id="normal-fields">
            <input type="text" name="nome" placeholder="Nome Completo *" required>
            <input type="text" name="contato" placeholder="Contato">
            <input type="email" name="email" placeholder="E-mail *" required>
            <input type="text" name="endereco" placeholder="Endereço">
          </div>

          <label>
            Tipo *  
            <select name="tipo" required>
              <option value="Elogio">Elogio</option>
              <option value="Denúncia">Denúncia</option>
              <option value="Reclamação">Reclamação</option>
              <option value="Sugestão">Sugestão</option>
            </select>
          </label>

          <input type="text" name="assunto" placeholder="Assunto *" required>

          <label>
            Descrição da Manifestação *  
            <textarea name="descricao" placeholder="Descreva sua manifestação" maxlength="500" required></textarea>
          </label>

          <button type="submit">Enviar</button>
        </form>
      </div>
    </div>
  </main>

  <!-- Rodapé -->
  <footer>
    <div class="footer-content container" style="display: flex; flex-wrap: wrap; justify-content: space-between; align-items: center; padding: 20px 0;">
      <div class="footer-info" style="flex: 1 1 300px;">
        <p><strong>Instituto de Previdência Social</strong></p>
        <p><strong>CNPJ:</strong> XX.XXX.XXX/XXXX-XX</p>
        <p><strong>Endereço:</strong> Rua Antônio Gomes de Moura, nº Centro - CEP: 55675-000 Salgadinho-PE</p>
        <p><strong>Email:</strong> ouvidoria@ipresal.pe.gov.br</p>
        <p><strong>Telefone:</strong> (81) 3654-1156</p>
        <p><strong>Horário de funcionamento:</strong> 08:00h às 13:00h, de segunda à sexta-feira</p>
      </div>
      <div class="footer-logo" style="flex: 1 1 200px; text-align: center;">
        <img src="logo_sua_empresa.png" alt="Logo" style="max-width: 150px;">
      </div>
    </div>
    <p style="text-align: center; background-color: #002050; color: white; padding: 10px 0; margin: 0;">
      &copy; 2025 IPRESAL - Todos os direitos reservados.
    </p>
  </footer>

  <!-- Script de comportamento -->
  <script>
    // Alterna campos anônimos x normal
    const modoNormal = document.querySelector('input[value="normal"]');
    const modoAnonimo = document.querySelector('input[value="anonima"]');
    const normalFields = document.getElementById('normal-fields');

    function toggleAnonimo() {
      if (modoAnonimo.checked) {
        normalFields.style.display = 'none';
        normalFields.querySelectorAll('input').forEach(i => i.removeAttribute('required'));
      } else {
        normalFields.style.display = '';
        normalFields.querySelector('input[name="nome"]').setAttribute('required','');
        normalFields.querySelector('input[name="email"]').setAttribute('required','');
      }
    }
    modoNormal.addEventListener('change', toggleAnonimo);
    modoAnonimo.addEventListener('change', toggleAnonimo);
    toggleAnonimo();

    // Envio via EmailJS
    document.getElementById('ouvidoria-form')
      .addEventListener('submit', function(e) {
        e.preventDefault();
        emailjs.sendForm('YOUR_SERVICE_ID','YOUR_TEMPLATE_ID', this)
          .then(() => {
            alert('Sua manifestação foi enviada com sucesso!');
            this.reset();
            toggleAnonimo();
          }, (err) => {
            console.error(err);
            alert('Erro ao enviar. Tente novamente mais tarde.');
          });
      });
  </script>
</body>
</html>
